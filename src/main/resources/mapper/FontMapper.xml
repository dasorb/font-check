<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.nebula.font.check.dao.FontDao">

    <insert id="insert" parameterType="com.nebula.font.check.pojo.Font" useGeneratedKeys="true">
        insert into fun_font(name, code, type, description, base_font_code, company, status, time)
        values (#{name}, #{code}, #{type}, #{description}, #{baseFontCode}, #{company}, #{status}, #{time})
    </insert>

    <update id="update" parameterType="com.nebula.font.check.pojo.Font">
        update fun_font
        set
        name = #{name},
        code = #{code},
        type = #{type},
        description = #{description},
        base_font_code = #{baseFontCode},
        company = #{company},
        status = #{status},
        time = #{time}
        where id = #{id}
    </update>
    
    <delete id="deleteById" parameterType="int">
        delete from fun_font where id=#{id}
    </delete>

    <select id="loadPageByConditional" resultType="com.nebula.font.check.pojo.Font">
        select * from fun_font
        <where>
            <if test='conditions.fontTypeConditionalList != null'>
                and type in
                <foreach collection="conditions.fontTypeConditionalList" item="item" index="index" open="(" close=")" separator=",">
                    #{item}
                </foreach>
            </if>
            <if test='conditions.companyConditionalList != null'>
                and type in
                <foreach collection="conditions.companyConditionalList" item="item" index="index" open="(" close=")" separator=",">
                    #{item}
                </foreach>
            </if>
            <if test='conditions.codeConditionalList != null'>
                and type in
                <foreach collection="conditions.codeConditionalList" item="item" index="index" open="(" close=")" separator=",">
                    #{item}
                </foreach>
            </if>
        </where>
        <if test="conditions.currIndex != null and conditions.pageSize != null">
            limit #{conditions.currIndex} , #{conditions.pageSize}
        </if>
    </select>

    <select id="loadFontById" resultType="com.nebula.font.check.pojo.Font" >
        select * from fun_font where id = #{id}
    </select>
    
    <select id="loadFontExistByCode" resultType="com.nebula.font.check.pojo.Font">
        select * from fun_font where code = #{code}
    </select>


</mapper>